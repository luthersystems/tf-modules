image: hashicorp/terraform:1.1.9

pipelines:
  pull-requests:
    '**':
      - parallel:
          - step:
              name: Check format
              script:
                - terraform fmt -diff=true -check=true
          - step:
              name: Validate
              script:
                - ./validate.sh
